                     ┌────────────────────────────────────────────────────────────┐
                     │                   LIM Pipeline Architecture                 │
                     └────────────────────────────────────────────────────────────┘
                                                │
                                                ▼
┌───────────────────────────┐      ┌─────────────────────────┐      ┌────────────────────────────┐ 
│    Configuration Stage     │      │  Data Collection Stage  │      │   Processing Pipeline      │
│  ┌─────────────────────┐  │      │  ┌─────────────────┐    │      │  ┌──────────────────┐      │
│  │ Load Environment    │  │      │  │ User Interests  │    │      │  │ Research Stage    │      │
│  │    Variables        │◄─┼──────┼──┤   Database      │    │      │  │                  │      │
│  └─────────────────────┘  │      │  └─────────────────┘    │      │  │ (OpenRouter/     │      │
│  ┌─────────────────────┐  │      │  ┌─────────────────┐    │      │  │  Perplexity)     │      │
│  │ Configure Providers │  │      │  │ Location Data   │    │      │  └──────────────────┘      │
│  │   and Models        │  │      │  │  Mapbox         │    │      │           │                │
│  └─────────────────────┘  │      │  └─────────────────┘    │      │           ▼                │
│  ┌─────────────────────┐  │      │  ┌─────────────────┐    │      │  ┌──────────────────┐      │
│  │ Initialize Logging  │  │      │  │ Trending Data   │    │      │  │ Enhancement Stage│      │
│  │     System          │  │      │  │                 │    │      │  │                  │      │
│  └─────────────────────┘  │      │  └─────────────────┘    │      │  │ (Gemini 2 Flash) │      │
└───────────────────────────┘      └─────────────────────────┘      │  └──────────────────┘      │
                                                                     │           │                │
                                                                     │           ▼                │
                                                                     │  ┌──────────────────┐      │
                                                                     │  │ Validation Stage │      │
                                                                     │  │                  │      │
                                                                     │  │  Data Validation │      │
                                                                     │  └──────────────────┘      │
                                                                     └────────────│───────────────┘
                                                                                  │
                                                                                  ▼
                                   ┌────────────────────────────────────────────────────────────────┐
                                   │                      Storage Layer                             │
                                   │  ┌─────────────────────┐            ┌─────────────────────┐   │
                                   │  │    Database         │            │   JSON Backup       │   │
                                   │  │  (Postgres/Prisma)  │◄──────────►│                     │   │
                                   │  └─────────────────────┘            └─────────────────────┘   │
                                   └────────────────────────────────────────────────────────────────┘
                                                           │
                                                           ▼
                                   ┌────────────────────────────────────────────────────────────────┐
                                   │                     Presentation Layer                          │
                                   │  ┌─────────────────────┐            ┌─────────────────────┐   │
                                   │  │   User Interface    │            │    API Endpoints    │   │
                                   │  │ (Map & Spot Cards)  │            │                     │   │
                                   │  └─────────────────────┘            └─────────────────────┘   │
                                   └────────────────────────────────────────────────────────────────┘
``` 